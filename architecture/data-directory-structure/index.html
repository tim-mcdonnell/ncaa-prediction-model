
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="Organization of the NCAA Basketball Analytics project data directory with DuckDB integration" name="description"/>
<link href="../data-entities/" rel="prev"/>
<link href="../configuration-management/" rel="next"/>
<link href="../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.6.9" name="generator"/>
<title>Data Directory Structure - NCAA Basketball Analytics Project</title>
<link href="../../assets/stylesheets/main.4af4bdda.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="amber" data-md-color-primary="deep-purple" data-md-color-scheme="slate" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#data-directory-structure">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="NCAA Basketball Analytics Project" class="md-header__button md-logo" data-md-component="logo" href="../.." title="NCAA Basketball Analytics Project">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            NCAA Basketball Analytics Project
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Data Directory Structure
            
          </span>
</div>
</div>
</div>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/tim-mcdonnell/ncaa-prediction-model" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg>
</div>
<div class="md-source__repository">
    NCAA Prediction Model
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="NCAA Basketball Analytics Project" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="NCAA Basketball Analytics Project">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>
</a>
    NCAA Basketball Analytics Project
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/tim-mcdonnell/ncaa-prediction-model" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg>
</div>
<div class="md-source__repository">
    NCAA Prediction Model
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
<span class="md-ellipsis">
    Home
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../">
<span class="md-ellipsis">
    Architecture
    
  </span>
</a>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="true" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            Architecture
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../data-pipeline/">
<span class="md-ellipsis">
    Data Pipeline
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../data-entities/">
<span class="md-ellipsis">
    Data Entities
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    Data Directory Structure
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    Data Directory Structure
    
  </span>
</a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#overview">
<span class="md-ellipsis">
      Overview
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#directory-structure">
<span class="md-ellipsis">
      Directory Structure
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#key-components">
<span class="md-ellipsis">
      Key Components
    </span>
</a>
<nav aria-label="Key Components" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#1-bronze-layer-raw-data">
<span class="md-ellipsis">
      1. Bronze Layer (Raw Data)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#2-metadata-registry">
<span class="md-ellipsis">
      2. Metadata Registry
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#3-silver-and-gold-layers">
<span class="md-ellipsis">
      3. Silver and Gold Layers
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#4-predictions-and-models">
<span class="md-ellipsis">
      4. Predictions and Models
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#storage-efficiency">
<span class="md-ellipsis">
      Storage Efficiency
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#access-patterns">
<span class="md-ellipsis">
      Access Patterns
    </span>
</a>
<nav aria-label="Access Patterns" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#accessing-bronze-layer-data">
<span class="md-ellipsis">
      Accessing Bronze Layer Data
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#working-with-silver-layer">
<span class="md-ellipsis">
      Working with Silver Layer
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#data-pipeline-flow">
<span class="md-ellipsis">
      Data Pipeline Flow
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#backup-strategy">
<span class="md-ellipsis">
      Backup Strategy
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../configuration-management/">
<span class="md-ellipsis">
    Configuration Management
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../cli-design/">
<span class="md-ellipsis">
    CLI Design
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../logging-strategy/">
<span class="md-ellipsis">
    Logging Strategy
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../development-phases/">
<span class="md-ellipsis">
    Development Phases
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
<span class="md-ellipsis">
    API Reference
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../espn-api-reference/">
<span class="md-ellipsis">
    ESPN API
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#overview">
<span class="md-ellipsis">
      Overview
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#directory-structure">
<span class="md-ellipsis">
      Directory Structure
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#key-components">
<span class="md-ellipsis">
      Key Components
    </span>
</a>
<nav aria-label="Key Components" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#1-bronze-layer-raw-data">
<span class="md-ellipsis">
      1. Bronze Layer (Raw Data)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#2-metadata-registry">
<span class="md-ellipsis">
      2. Metadata Registry
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#3-silver-and-gold-layers">
<span class="md-ellipsis">
      3. Silver and Gold Layers
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#4-predictions-and-models">
<span class="md-ellipsis">
      4. Predictions and Models
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#storage-efficiency">
<span class="md-ellipsis">
      Storage Efficiency
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#access-patterns">
<span class="md-ellipsis">
      Access Patterns
    </span>
</a>
<nav aria-label="Access Patterns" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#accessing-bronze-layer-data">
<span class="md-ellipsis">
      Accessing Bronze Layer Data
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#working-with-silver-layer">
<span class="md-ellipsis">
      Working with Silver Layer
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#data-pipeline-flow">
<span class="md-ellipsis">
      Data Pipeline Flow
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#backup-strategy">
<span class="md-ellipsis">
      Backup Strategy
    </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="data-directory-structure">Data Directory Structure<a class="headerlink" href="#data-directory-structure" title="Permanent link">¶</a></h1>
<div class="toc">
<ul>
<li><a href="#data-directory-structure">Data Directory Structure</a><ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#directory-structure">Directory Structure</a></li>
<li><a href="#key-components">Key Components</a><ul>
<li><a href="#1-bronze-layer-raw-data">1. Bronze Layer (Raw Data)</a></li>
<li><a href="#2-metadata-registry">2. Metadata Registry</a></li>
<li><a href="#3-silver-and-gold-layers">3. Silver and Gold Layers</a></li>
<li><a href="#4-predictions-and-models">4. Predictions and Models</a></li>
</ul>
</li>
<li><a href="#storage-efficiency">Storage Efficiency</a></li>
<li><a href="#access-patterns">Access Patterns</a><ul>
<li><a href="#accessing-bronze-layer-data">Accessing Bronze Layer Data</a></li>
<li><a href="#working-with-silver-layer">Working with Silver Layer</a></li>
</ul>
</li>
<li><a href="#data-pipeline-flow">Data Pipeline Flow</a></li>
<li><a href="#backup-strategy">Backup Strategy</a></li>
</ul>
</li>
</ul>
</div>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">¶</a></h2>
<p>This document outlines the organization of the data directory in the NCAA Basketball Analytics project. The approach uses DuckDB for all data layers (bronze, silver, and gold), maintaining medallion architecture principles with optimized storage efficiency.</p>
<pre class="mermaid"><code>flowchart TD
    D[/data/] --&gt; DB[(ncaa.duckdb)]
    D --&gt; P[/predictions/]
    D --&gt; MD[/models/]

    DB --&gt; B[Bronze Layer Tables]
    DB --&gt; S[Silver Layer Tables]
    DB --&gt; G[Gold Layer Tables]
    DB --&gt; MT[Metadata Tables]

    style B fill:#cd7f32,color:white
    style S fill:#c0c0c0,color:black
    style G fill:#ffd700,color:black
    style MT fill:#8a2be2,color:white</code></pre>
<h2 id="directory-structure">Directory Structure<a class="headerlink" href="#directory-structure" title="Permanent link">¶</a></h2>
<div class="highlight"><pre><span></span><code>ncaa-prediction-model/
└── data/
    ├── ncaa.duckdb            # DuckDB database containing all data layers
    │
    ├── predictions/           # Output prediction files
    │   └── YYYY-MM-DD/        # Organized by prediction date
    │
    └── models/                # Trained ML models
        └── model_name/        # Organized by model type
            └── version/       # Version-controlled model files
</code></pre></div>
<h2 id="key-components">Key Components<a class="headerlink" href="#key-components" title="Permanent link">¶</a></h2>
<h3 id="1-bronze-layer-raw-data">1. Bronze Layer (Raw Data)<a class="headerlink" href="#1-bronze-layer-raw-data" title="Permanent link">¶</a></h3>
<p>The bronze layer preserves raw API data in DuckDB tables with original JSON content:</p>
<ul>
<li><strong>Table Naming</strong>: Tables follow <code>bronze_{api_endpoint_name}</code> pattern</li>
<li><strong>Data Preservation</strong>: Original JSON stored in a <code>raw_data</code> column</li>
<li><strong>Metadata Columns</strong>: Each table includes ingestion timestamps, content hashes, and source information</li>
<li><strong>Incremental Loading</strong>: New data is appended to existing tables with appropriate tracking</li>
</ul>
<p>Example schema for bronze layer tables:</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">bronze_scoreboard</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="nb">date</span><span class="w"> </span><span class="n">STRING</span><span class="p">,</span>
<span class="w">    </span><span class="n">ingestion_timestamp</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="p">,</span>
<span class="w">    </span><span class="n">source_type</span><span class="w"> </span><span class="n">STRING</span><span class="p">,</span>
<span class="w">    </span><span class="n">content_hash</span><span class="w"> </span><span class="n">STRING</span><span class="p">,</span><span class="w"> </span><span class="c1">-- For change detection</span>
<span class="w">    </span><span class="n">raw_data</span><span class="w"> </span><span class="n">STRING</span><span class="w">      </span><span class="c1">-- Original JSON response</span>
<span class="p">);</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">bronze_teams</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="n">team_id</span><span class="w"> </span><span class="n">STRING</span><span class="p">,</span>
<span class="w">    </span><span class="n">ingestion_timestamp</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="p">,</span>
<span class="w">    </span><span class="n">content_hash</span><span class="w"> </span><span class="n">STRING</span><span class="p">,</span>
<span class="w">    </span><span class="n">raw_data</span><span class="w"> </span><span class="n">STRING</span>
<span class="p">);</span>
</code></pre></div>
<h3 id="2-metadata-registry">2. Metadata Registry<a class="headerlink" href="#2-metadata-registry" title="Permanent link">¶</a></h3>
<p>The DuckDB database contains metadata tables for tracking data lineage:</p>
<h4 id="metadata-tables">Metadata Tables<a class="headerlink" href="#metadata-tables" title="Permanent link">¶</a></h4>
<ul>
<li><strong>source_metadata</strong>: Information about raw data sources</li>
<li>Links source ID to raw data and tracking information </li>
<li>Tracks content hashes, ingestion timestamps, and processing status</li>
<li><strong>silver_dependencies</strong>: Lineage from bronze to silver</li>
<li><strong>gold_dependencies</strong>: Lineage from silver to gold</li>
<li><strong>model_dependencies</strong>: Lineage from gold to models</li>
<li><strong>job_history</strong>: Processing job execution history</li>
<li><strong>change_detection</strong>: Change tracking for incremental processing</li>
</ul>
<h3 id="3-silver-and-gold-layers">3. Silver and Gold Layers<a class="headerlink" href="#3-silver-and-gold-layers" title="Permanent link">¶</a></h3>
<p>The same DuckDB database contains normalized and feature-engineered tables:</p>
<h4 id="silver-layer-tables">Silver Layer Tables<a class="headerlink" href="#silver-layer-tables" title="Permanent link">¶</a></h4>
<p>Normalized entity tables derived from bronze data:</p>
<ul>
<li><strong>Table Naming</strong>: Tables follow <code>silver_{entity_name}</code> pattern</li>
<li><strong>seasons</strong>: NCAA basketball seasons with dates and phases</li>
<li><strong>teams</strong>: Team information and metadata</li>
<li><strong>players</strong>: Player roster information</li>
<li><strong>games</strong>: Game events, results, and context</li>
<li><strong>statistics</strong>: Game and season statistics</li>
<li><strong>venues</strong>: Game locations</li>
<li><strong>conferences</strong>: Conference information</li>
<li><strong>rankings</strong>: Team rankings by poll</li>
</ul>
<h4 id="gold-layer-tables">Gold Layer Tables<a class="headerlink" href="#gold-layer-tables" title="Permanent link">¶</a></h4>
<p>Feature-engineered tables derived from silver layer entities:</p>
<ul>
<li><strong>Table Naming</strong>: Tables follow <code>gold_{feature_set_name}</code> pattern</li>
<li><strong>team_performance</strong>: Team level statistics, trends, and metrics</li>
<li><strong>player_performance</strong>: Player level statistics and metrics</li>
<li><strong>game_context</strong>: Game situation features (home/away, rest days, etc.)</li>
<li><strong>historical_performance</strong>: Historical matchups and outcomes</li>
<li><strong>prediction_features</strong>: Combined feature sets ready for model consumption</li>
</ul>
<h3 id="4-predictions-and-models">4. Predictions and Models<a class="headerlink" href="#4-predictions-and-models" title="Permanent link">¶</a></h3>
<p>The remaining directories store prediction outputs and trained models:</p>
<ul>
<li><strong>predictions/</strong>: Organized by prediction date</li>
<li><strong>models/</strong>: Organized by model type and version</li>
</ul>
<h2 id="storage-efficiency">Storage Efficiency<a class="headerlink" href="#storage-efficiency" title="Permanent link">¶</a></h2>
<p>Using DuckDB provides significant advantages:</p>
<ol>
<li><strong>Single File</strong>: All data stored in a single database file</li>
<li><strong>Columnar Storage</strong>: Efficient storage and query performance</li>
<li><strong>SQL Interface</strong>: Standard SQL access to all data layers</li>
<li><strong>Compression</strong>: Automatic data compression for storage efficiency</li>
<li><strong>Integration</strong>: Direct integration with Pandas, Polars, and other analytics libraries</li>
</ol>
<h2 id="access-patterns">Access Patterns<a class="headerlink" href="#access-patterns" title="Permanent link">¶</a></h2>
<p>Common data access patterns with DuckDB:</p>
<h3 id="accessing-bronze-layer-data">Accessing Bronze Layer Data<a class="headerlink" href="#accessing-bronze-layer-data" title="Permanent link">¶</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">read_scoreboard_data</span><span class="p">(</span><span class="n">date</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Read scoreboard data for a specific date."""</span>
    <span class="k">with</span> <span class="n">duckdb</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">"data/ncaa.duckdb"</span><span class="p">)</span> <span class="k">as</span> <span class="n">conn</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="s2">"""</span>
<span class="s2">            SELECT raw_data</span>
<span class="s2">            FROM bronze_scoreboard</span>
<span class="s2">            WHERE date = ?</span>
<span class="s2">            ORDER BY ingestion_timestamp DESC</span>
<span class="s2">            LIMIT 1</span>
<span class="s2">        """</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="p">[</span><span class="n">date</span><span class="p">])</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">result</span><span class="p">:</span>
            <span class="c1"># Parse the raw_data JSON</span>
            <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
</code></pre></div>
<h3 id="working-with-silver-layer">Working with Silver Layer<a class="headerlink" href="#working-with-silver-layer" title="Permanent link">¶</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_team_games</span><span class="p">(</span><span class="n">team_id</span><span class="p">,</span> <span class="n">season</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Get all games for a team in a season."""</span>
    <span class="k">with</span> <span class="n">duckdb</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">"data/ncaa.duckdb"</span><span class="p">)</span> <span class="k">as</span> <span class="n">conn</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">"""</span>
<span class="s2">            SELECT * FROM silver_games</span>
<span class="s2">            WHERE (home_team_id = ? OR away_team_id = ?)</span>
<span class="s2">            AND season_id = ?</span>
<span class="s2">            ORDER BY game_date</span>
<span class="s2">        """</span><span class="p">,</span> <span class="p">[</span><span class="n">team_id</span><span class="p">,</span> <span class="n">team_id</span><span class="p">,</span> <span class="n">season</span><span class="p">])</span><span class="o">.</span><span class="n">fetchdf</span><span class="p">()</span>
</code></pre></div>
<h2 id="data-pipeline-flow">Data Pipeline Flow<a class="headerlink" href="#data-pipeline-flow" title="Permanent link">¶</a></h2>
<p>The data pipeline follows this flow within the DuckDB database:</p>
<ol>
<li><strong>Ingestion</strong>:</li>
<li>Fetch data from ESPN APIs</li>
<li>Store in bronze layer tables with appropriate metadata</li>
<li>
<p>Update metadata registry</p>
</li>
<li>
<p><strong>Processing</strong>:</p>
</li>
<li>Transform bronze layer data into silver layer normalized tables</li>
<li>
<p>Update lineage tracking</p>
</li>
<li>
<p><strong>Feature Engineering</strong>:</p>
</li>
<li>Create features from silver tables</li>
<li>Store as gold layer tables</li>
<li>
<p>Update feature dependencies</p>
</li>
<li>
<p><strong>Analysis &amp; Prediction</strong>:</p>
</li>
<li>Use gold layer tables for model training</li>
<li>Generate predictions</li>
<li>Store models and predictions in respective directories</li>
</ol>
<h2 id="backup-strategy">Backup Strategy<a class="headerlink" href="#backup-strategy" title="Permanent link">¶</a></h2>
<p>The recommended backup strategy:</p>
<ol>
<li><strong>Bronze Layer</strong>: Regular filesystem backups of Parquet files (incremental)</li>
<li><strong>DuckDB Database</strong>:</li>
<li>Regular database dumps using DuckDB's export functionality</li>
<li>Consider WAL-based backup for more frequent recovery points</li>
<li><strong>Models &amp; Predictions</strong>: Version control or filesystem backups</li>
</ol>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
<div class="md-social">
<a class="md-social__link" href="https://github.com/tim-mcdonnell/ncaa-prediction-model" rel="noopener" target="_blank" title="github.com">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.expand", "navigation.indexes", "content.code.copy", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
<script src="../../assets/javascripts/bundle.c8b220af.min.js"></script>
</body>
</html>